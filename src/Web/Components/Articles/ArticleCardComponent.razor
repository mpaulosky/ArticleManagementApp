@* =======================================================
Copyright (c) 2025. All rights reserved.
File Name :     ArticleCardComponent.razor
Company :       ArticleManagementApp
Author :        GitHub Copilot
Solution Name : ArticleManagementApp
Project Name :  Web
======================================================= *@

@if (Article is not null)
{
	<div class="card h-100 @CssClass">
		<div class="card-body">
			<div class="d-flex justify-content-between align-items-start mb-2">
				<h5 class="card-title">
					<a href="/articles/@Article.Slug" class="text-decoration-none text-dark">
						@Article.Title
					</a>
				</h5>
				@if (Article.IsPublished)
				{
					<span class="badge bg-success">Published</span>
				}
				else
				{
					<span class="badge bg-secondary">Draft</span>
				}
			</div>

			@if (!string.IsNullOrWhiteSpace(Article.Summary))
			{
				<p class="card-text text-muted">@Article.Summary</p>
			}
			else
			{
				<p class="card-text text-muted">
					@(Article.Content.Length > 150 ? Article.Content.Substring(0, 150) + "..." : Article.Content)
				</p>
			}

			<div class="d-flex flex-wrap gap-1 mb-3">
				@if (Article.Tags is not null && Article.Tags.Count > 0)
				{
					@foreach (var tag in Article.Tags.Take(5))
					{
						<span class="badge bg-light text-dark border">@tag</span>
					}
				}
			</div>

			<div class="d-flex justify-content-between align-items-center text-muted small">
				<div>
					<i class="bi bi-person-fill me-1"></i>
					@Article.Author
				</div>
				<div>
					<i class="bi bi-eye-fill me-1"></i>
					@Article.ViewCount views
				</div>
			</div>

			<div class="text-muted small mt-2">
				<i class="bi bi-calendar-fill me-1"></i>
				@Article.CreatedAt.ToString("MMM dd, yyyy")
			</div>

			@if (ShowActions)
			{
				<div class="d-flex gap-2 mt-3">
					<a href="/articles/@Article.Slug" class="btn btn-sm btn-outline-primary">
						<i class="bi bi-eye me-1"></i> View
					</a>
					<a href="/articles/edit/@Article.Id" class="btn btn-sm btn-outline-secondary">
						<i class="bi bi-pencil me-1"></i> Edit
					</a>
				</div>
			}
		</div>
	</div>
}

@code {
	/// <summary>
	/// Gets or sets the article to display.
	/// </summary>
	[Parameter]
	public Article? Article { get; set; }

	/// <summary>
	/// Gets or sets whether to show action buttons.
	/// </summary>
	[Parameter]
	public bool ShowActions { get; set; } = false;

	/// <summary>
	/// Gets or sets additional CSS classes to apply to the component.
	/// </summary>
	[Parameter]
	public string CssClass { get; set; } = string.Empty;
}
